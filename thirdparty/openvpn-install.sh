#!/bin/bash
# Third-party script: openvpn-install
# Category: security
# Description: OpenVPN server installer
# Source: https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh
# Generated by eXtensibleSH workflow

set -euo pipefail

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${GREEN}Installing openvpn-install...${NC}"
echo -e "${YELLOW}Description: OpenVPN server installer${NC}"
echo -e "${YELLOW}Source: https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh${NC}"
echo

# Download and execute with error handling
if command -v curl >/dev/null 2>&1; then
    echo -e "${GREEN}Downloading and executing installation script...${NC}"
    if curl -fsSL "https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh" | bash; then
        echo -e "${GREEN}✓ openvpn-install installation completed successfully!${NC}"
    else
        echo -e "${RED}✗ Installation failed. Please check the source URL manually.${NC}"
        echo -e "${YELLOW}Manual installation: https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh${NC}"
        exit 1
    fi
elif command -v wget >/dev/null 2>&1; then
    echo -e "${GREEN}Downloading and executing installation script...${NC}"
    if wget -qO- "https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh" | bash; then
        echo -e "${GREEN}✓ openvpn-install installation completed successfully!${NC}"
    else
        echo -e "${RED}✗ Installation failed. Please check the source URL manually.${NC}"
        echo -e "${YELLOW}Manual installation: https://raw.githubusercontent.com/angristan/openvpn-install/master/openvpn-install.sh${NC}"
        exit 1
    fi
else
    echo -e "${RED}✗ Neither curl nor wget found. Please install one of them first.${NC}"
    exit 1
fi
